<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Tu·∫ßn Ho√†n C∆° Th·ªÉ Ng∆∞·ªùi | Interactive Circulatory System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0a0a15 0%, #0f1a2a 50%, #0a1520 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        header {
            text-align: center;
            padding: 30px 20px;
        }

        .logo {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .blood-drop {
            width: 40px;
            height: 50px;
            background: linear-gradient(180deg, #dc3545, #8b0000);
            border-radius: 50% 50% 50% 50% / 30% 30% 70% 70%;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            background: linear-gradient(135deg, #dc3545, #4a90d9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.95rem;
            margin-top: 8px;
            letter-spacing: 2px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        @media (min-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr 400px;
            }
        }

        /* Body Diagram Section */
        .diagram-section {
            background: linear-gradient(145deg, rgba(20, 30, 50, 0.8), rgba(10, 20, 35, 0.9));
            border-radius: 24px;
            padding: 30px;
            border: 1px solid rgba(220, 53, 69, 0.2);
            position: relative;
        }

        .diagram-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        .body-svg {
            width: 100%;
            height: auto;
        }

        /* Clickable Parts */
        .body-part {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .body-part:hover {
            filter: brightness(1.3) drop-shadow(0 0 10px currentColor);
        }

        /* Blood Flow Animation */
        .blood-particle {
            fill: #ff4444;
            animation: flowBlood 3s linear infinite;
        }

        @keyframes flowBlood {
            0% {
                offset-distance: 0%;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                offset-distance: 100%;
                opacity: 0;
            }
        }

        /* Info Panel */
        .info-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .info-card {
            background: linear-gradient(145deg, rgba(30, 40, 60, 0.8), rgba(15, 25, 40, 0.9));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(100, 150, 220, 0.2);
            transition: all 0.3s ease;
        }

        .info-card:hover {
            border-color: rgba(220, 53, 69, 0.4);
        }

        .info-card h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-card h3.artery {
            color: #ff6b6b;
        }

        .info-card h3.vein {
            color: #4a90d9;
        }

        .info-card h3.heart {
            color: #ff4757;
        }

        .info-card h3.lung {
            color: #7ed6df;
        }

        .info-card p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.7;
            font-size: 0.95rem;
        }

        /* Selected Part Info */
        .selected-info {
            background: linear-gradient(145deg, rgba(220, 53, 69, 0.1), rgba(30, 40, 60, 0.8));
            border: 2px solid rgba(220, 53, 69, 0.4);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-color.artery {
            background: linear-gradient(135deg, #dc3545, #ff6b6b);
        }

        .legend-color.vein {
            background: linear-gradient(135deg, #1e3a5f, #4a90d9);
        }

        .legend-color.heart {
            background: linear-gradient(135deg, #8b0000, #dc3545);
        }

        .legend-color.lung {
            background: linear-gradient(135deg, #48dbfb, #7ed6df);
        }

        /* Circulation Info */
        .circulation-section {
            margin-top: 40px;
        }

        .circulation-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .circ-card {
            background: linear-gradient(145deg, rgba(30, 40, 60, 0.6), rgba(15, 25, 40, 0.8));
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .circ-card:hover {
            transform: translateY(-3px);
            border-color: rgba(220, 53, 69, 0.3);
        }

        .circ-card h4 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            margin-bottom: 12px;
        }

        .circ-card.small h4 {
            color: #7ed6df;
        }

        .circ-card.large h4 {
            color: #ff6b6b;
        }

        .circ-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Fun Facts */
        .fun-facts {
            background: linear-gradient(145deg, rgba(255, 193, 7, 0.1), rgba(30, 40, 60, 0.8));
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
        }

        .fun-facts h3 {
            color: #ffc107;
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 15px;
        }

        .fun-facts ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .fun-facts li {
            color: rgba(255, 255, 255, 0.8);
            padding-left: 25px;
            position: relative;
        }

        .fun-facts li::before {
            content: 'üí°';
            position: absolute;
            left: 0;
        }

        /* Quiz Button */
        .quiz-btn {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 40px auto;
            padding: 18px 40px;
            background: linear-gradient(135deg, #dc3545, #ff6b7a);
            border: none;
            border-radius: 30px;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
        }

        .quiz-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(220, 53, 69, 0.4);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px 20px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .credits {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
        }

        .credits span {
            color: #ff6b7a;
            font-weight: bold;
        }

        /* Navigation */
        .nav-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #4a90d9;
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #fff;
        }

        /* Home Button */
        .home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #4a90d9, #1e3a5f);
            border: none;
            border-radius: 30px;
            color: #fff;
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(74, 144, 217, 0.3);
        }

        .home-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(74, 144, 217, 0.5);
        }

        /* Sound Control */
        .sound-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 18px;
            background: rgba(30, 40, 60, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(220, 53, 69, 0.3);
            border-radius: 25px;
            color: #fff;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sound-control:hover {
            border-color: rgba(220, 53, 69, 0.6);
        }

        .sound-control.playing {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.2);
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <div class="blood-drop"></div>
            <h1>H·ªá Tu·∫ßn Ho√†n</h1>
        </div>
        <p class="subtitle">Kh√°m ph√° c√°ch m√°u l∆∞u th√¥ng trong c∆° th·ªÉ</p>
    </header>

    <!-- Home Button -->
    <a href="index.html" class="home-btn">üè† Trang Ch·ªß</a>

    <!-- Sound Control -->
    <button class="sound-control" id="sound-control" onclick="toggleHeartbeat()">
        <span id="sound-icon">üîá</span>
        <span id="sound-text">B·∫≠t nh·ªãp tim</span>
    </button>

    <div class="container">

        <div class="main-content">
            <!-- Body Diagram -->
            <div class="diagram-section">
                <div class="diagram-container">
                    <svg class="body-svg" viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
                        <!-- Background body outline -->
                        <ellipse cx="200" cy="80" rx="45" ry="55" fill="#2a2a3a" stroke="#444" stroke-width="2" />
                        <rect x="155" y="130" width="90" height="150" rx="20" fill="#2a2a3a" stroke="#444"
                            stroke-width="2" />
                        <rect x="100" y="135" width="40" height="120" rx="15" fill="#2a2a3a" stroke="#444"
                            stroke-width="2" />
                        <rect x="260" y="135" width="40" height="120" rx="15" fill="#2a2a3a" stroke="#444"
                            stroke-width="2" />
                        <rect x="165" y="275" width="30" height="180" rx="10" fill="#2a2a3a" stroke="#444"
                            stroke-width="2" />
                        <rect x="205" y="275" width="30" height="180" rx="10" fill="#2a2a3a" stroke="#444"
                            stroke-width="2" />

                        <!-- Lungs -->
                        <g class="body-part" id="lungs" onclick="selectPart('lungs')">
                            <ellipse cx="165" cy="185" rx="35" ry="45" fill="#48dbfb" fill-opacity="0.3"
                                stroke="#7ed6df" stroke-width="2" />
                            <ellipse cx="235" cy="185" rx="35" ry="45" fill="#48dbfb" fill-opacity="0.3"
                                stroke="#7ed6df" stroke-width="2" />
                            <text x="200" y="188" text-anchor="middle" fill="#7ed6df" font-size="11">PH·ªîI</text>
                        </g>

                        <!-- Heart -->
                        <g class="body-part" id="heart" onclick="selectPart('heart')">
                            <path
                                d="M200 170 C180 150, 155 165, 155 185 C155 210, 175 225, 200 245 C225 225, 245 210, 245 185 C245 165, 220 150, 200 170"
                                fill="#dc3545" fill-opacity="0.8" stroke="#ff4757" stroke-width="2" />
                            <text x="200" y="205" text-anchor="middle" fill="#fff" font-size="10"
                                font-weight="bold">TIM</text>
                        </g>

                        <!-- Major Arteries (Red) -->
                        <g class="body-part arteries" id="arteries" onclick="selectPart('arteries')">
                            <!-- Aorta -->
                            <path d="M200 245 L200 280" stroke="#dc3545" stroke-width="8" stroke-linecap="round"
                                fill="none" />
                            <!-- Iliac arteries -->
                            <path d="M200 280 L180 320 L180 450" stroke="#dc3545" stroke-width="5"
                                stroke-linecap="round" fill="none" />
                            <path d="M200 280 L220 320 L220 450" stroke="#dc3545" stroke-width="5"
                                stroke-linecap="round" fill="none" />
                            <!-- Arm arteries -->
                            <path d="M200 170 L155 170 L120 180 L120 250" stroke="#dc3545" stroke-width="4"
                                stroke-linecap="round" fill="none" />
                            <path d="M200 170 L245 170 L280 180 L280 250" stroke="#dc3545" stroke-width="4"
                                stroke-linecap="round" fill="none" />
                            <!-- Carotid arteries -->
                            <path d="M200 170 L185 130 L185 80" stroke="#dc3545" stroke-width="3" stroke-linecap="round"
                                fill="none" />
                            <path d="M200 170 L215 130 L215 80" stroke="#dc3545" stroke-width="3" stroke-linecap="round"
                                fill="none" />
                        </g>

                        <!-- Major Veins (Blue) -->
                        <g class="body-part veins" id="veins" onclick="selectPart('veins')">
                            <!-- Vena cava -->
                            <path d="M190 245 L190 280" stroke="#1e3a5f" stroke-width="8" stroke-linecap="round"
                                fill="none" />
                            <!-- Iliac veins -->
                            <path d="M190 280 L170 320 L170 450" stroke="#1e3a5f" stroke-width="5"
                                stroke-linecap="round" fill="none" />
                            <path d="M190 280 L210 320 L210 450" stroke="#1e3a5f" stroke-width="5"
                                stroke-linecap="round" fill="none" />
                            <!-- Arm veins -->
                            <path d="M190 170 L145 170 L110 180 L110 250" stroke="#1e3a5f" stroke-width="4"
                                stroke-linecap="round" fill="none" />
                            <path d="M190 170 L255 170 L290 180 L290 250" stroke="#1e3a5f" stroke-width="4"
                                stroke-linecap="round" fill="none" />
                            <!-- Jugular veins -->
                            <path d="M190 170 L175 130 L175 80" stroke="#1e3a5f" stroke-width="3" stroke-linecap="round"
                                fill="none" />
                            <path d="M190 170 L225 130 L225 80" stroke="#1e3a5f" stroke-width="3" stroke-linecap="round"
                                fill="none" />
                        </g>

                        <!-- Blood flow particles (animated) -->
                        <circle class="blood-particle" r="4">
                            <animateMotion dur="4s" repeatCount="indefinite"
                                path="M200 245 L200 280 L180 320 L180 400" />
                        </circle>
                        <circle class="blood-particle" r="4" style="animation-delay: 1s">
                            <animateMotion dur="4s" repeatCount="indefinite" path="M200 245 L200 280 L220 320 L220 400"
                                begin="1s" />
                        </circle>
                        <circle class="blood-particle" r="3" style="fill: #4a90d9">
                            <animateMotion dur="5s" repeatCount="indefinite"
                                path="M170 400 L170 320 L190 280 L190 245" />
                        </circle>

                        <!-- Labels -->
                        <text x="60" y="200" fill="#dc3545" font-size="10" font-weight="bold">ƒê·ªòNG M·∫†CH</text>
                        <text x="310" y="200" fill="#1e3a5f" font-size="10" font-weight="bold">Tƒ®NH M·∫†CH</text>
                    </svg>
                </div>

                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color artery"></div>
                        <span>ƒê·ªông m·∫°ch (m√°u gi√†u oxy)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color vein"></div>
                        <span>Tƒ©nh m·∫°ch (m√°u ngh√®o oxy)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color heart"></div>
                        <span>Tim</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color lung"></div>
                        <span>Ph·ªïi</span>
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel">
                <div class="info-card selected-info" id="info-display">
                    <h3 class="heart">ü´Ä Ch·∫°m v√†o b·ªô ph·∫≠n ƒë·ªÉ t√¨m hi·ªÉu!</h3>
                    <p>Click v√†o Tim, Ph·ªïi, ƒê·ªông m·∫°ch ho·∫∑c Tƒ©nh m·∫°ch tr√™n s∆° ƒë·ªì ƒë·ªÉ xem th√¥ng tin chi ti·∫øt v·ªÅ ch·ª©c nƒÉng
                        c·ªßa t·ª´ng b·ªô ph·∫≠n.</p>
                </div>

                <div class="info-card">
                    <h3 class="heart">ü´Ä Tim</h3>
                    <p>L√† "c√°i m√°y b∆°m" c·ªßa c∆° th·ªÉ, ƒë·∫≠p kho·∫£ng 100.000 l·∫ßn m·ªói ng√†y ƒë·ªÉ ƒë·∫©y m√°u ƒëi kh·∫Øp n∆°i.</p>
                </div>

                <div class="info-card">
                    <h3 class="artery">üî¥ ƒê·ªông m·∫°ch</h3>
                    <p>Mang m√°u gi√†u oxy (m√†u ƒë·ªè t∆∞∆°i) t·ª´ tim ƒë·∫øn c√°c c∆° quan trong c∆° th·ªÉ.</p>
                </div>

                <div class="info-card">
                    <h3 class="vein">üîµ Tƒ©nh m·∫°ch</h3>
                    <p>Mang m√°u ngh√®o oxy (m√†u ƒë·ªè s·∫´m) t·ª´ c∆° th·ªÉ tr·ªü v·ªÅ tim.</p>
                </div>

                <div class="info-card">
                    <h3 class="lung">ü´Å Ph·ªïi</h3>
                    <p>N∆°i m√°u ƒë∆∞·ª£c "n·∫°p" th√™m oxy t·ª´ kh√¥ng kh√≠ v√† th·∫£i kh√≠ CO2 ra ngo√†i.</p>
                </div>
            </div>
        </div>

        <!-- Circulation Types -->
        <section class="circulation-section">
            <h2 style="text-align: center; font-family: 'Orbitron', sans-serif; color: #ff6b7a; margin-bottom: 10px;">
                üîÑ Hai V√≤ng Tu·∫ßn Ho√†n
            </h2>
            <div class="circulation-cards">
                <div class="circ-card small">
                    <h4>ü´Å V√≤ng Tu·∫ßn Ho√†n Nh·ªè (Ph·ªïi)</h4>
                    <p><strong>Tim ‚Üí Ph·ªïi ‚Üí Tim</strong><br><br>
                        M√°u ngh√®o oxy ƒë∆∞·ª£c b∆°m t·ª´ t√¢m th·∫•t ph·∫£i ƒë·∫øn ph·ªïi. T·∫°i ph·ªïi, m√°u nh·∫≠n oxy v√† th·∫£i CO2. M√°u gi√†u
                        oxy quay v·ªÅ t√¢m nhƒ© tr√°i.</p>
                </div>
                <div class="circ-card large">
                    <h4>üåç V√≤ng Tu·∫ßn Ho√†n L·ªõn (C∆° th·ªÉ)</h4>
                    <p><strong>Tim ‚Üí C∆° th·ªÉ ‚Üí Tim</strong><br><br>
                        M√°u gi√†u oxy ƒë∆∞·ª£c b∆°m t·ª´ t√¢m th·∫•t tr√°i ƒë·∫øn to√†n b·ªô c∆° th·ªÉ qua ƒë·ªông m·∫°ch. Sau khi cung c·∫•p oxy,
                        m√°u ngh√®o oxy quay v·ªÅ t√¢m nhƒ© ph·∫£i qua tƒ©nh m·∫°ch.</p>
                </div>
            </div>
        </section>

        <!-- Fun Facts -->
        <div class="fun-facts">
            <h3>üåü Em C√≥ Bi·∫øt?</h3>
            <ul>
                <li>N·∫øu n·ªëi t·∫•t c·∫£ m·∫°ch m√°u l·∫°i, ch√∫ng s·∫Ω d√†i kho·∫£ng <strong>100.000 km</strong> - ƒë·ªß qu·∫•n quanh Tr√°i
                    ƒê·∫•t 2,5 v√≤ng!</li>
                <li>M·ªói ng√†y, tim b∆°m kho·∫£ng <strong>7.500 l√≠t m√°u</strong> - b·∫±ng 50 b·ªìn t·∫Øm!</li>
                <li>T·∫ø b√†o h·ªìng c·∫ßu m·∫•t kho·∫£ng <strong>20 gi√¢y</strong> ƒë·ªÉ ƒëi m·ªôt v√≤ng kh·∫Øp c∆° th·ªÉ.</li>
                <li>C∆° th·ªÉ ng∆∞·ªùi c√≥ kho·∫£ng <strong>5 l√≠t m√°u</strong> ƒëang l∆∞u th√¥ng.</li>
            </ul>
        </div>

        <!-- Link to Heart Page -->
        <a href="index.html" class="quiz-btn">ü´Ä Xem M√¥ H√¨nh 3D Tr√°i Tim & L√†m Quiz</a>
    </div>

    <footer>
        <p class="credits">
            Bi√™n so·∫°n b·ªüi <span>Nguy·ªÖn ƒê·ª©c</span> - Gi√°o vi√™n y√™u c√¥ng ngh·ªá!
        </p>
    </footer>

    <script>
        const partInfo = {
            heart: {
                icon: 'ü´Ä',
                title: 'Tim - Tr√°i Tim',
                class: 'heart',
                content: `Tim l√† c∆° quan quan tr·ªçng nh·∫•t c·ªßa h·ªá tu·∫ßn ho√†n. Tim c√≥ 4 ngƒÉn: 2 t√¢m nhƒ© ·ªü tr√™n v√† 2 t√¢m th·∫•t ·ªü d∆∞·ªõi.
                <br><br>
                <strong>Ch·ª©c nƒÉng:</strong> B∆°m m√°u ƒëi kh·∫Øp c∆° th·ªÉ kh√¥ng ng·ª´ng ngh·ªâ. Tim ƒë·∫≠p kho·∫£ng 60-100 l·∫ßn/ph√∫t khi ngh·ªâ ng∆°i.
                <br><br>
                <strong>K√≠ch th∆∞·ªõc:</strong> B·∫±ng n·∫Øm tay c·ªßa em!`
            },
            lungs: {
                icon: 'ü´Å',
                title: 'Ph·ªïi',
                class: 'lung',
                content: `Ph·ªïi l√† n∆°i m√°u ƒë∆∞·ª£c "l√†m m·ªõi" - nh·∫≠n oxy t·ª´ kh√¥ng kh√≠ v√† th·∫£i kh√≠ CO2 ra ngo√†i.
                <br><br>
                <strong>Ch·ª©c nƒÉng:</strong> Trao ƒë·ªïi kh√≠ gi·ªØa m√°u v√† kh√¥ng kh√≠. M√°u ngh√®o oxy ƒë·∫øn ph·ªïi s·∫Ω tr·ªü th√†nh m√°u gi√†u oxy.
                <br><br>
                <strong>Th√∫ v·ªã:</strong> Ph·ªïi c√≥ h∆°n 300 tri·ªáu t√∫i kh√≠ nh·ªè g·ªçi l√† ph·∫ø nang!`
            },
            arteries: {
                icon: 'üî¥',
                title: 'ƒê·ªông M·∫°ch',
                class: 'artery',
                content: `ƒê·ªông m·∫°ch l√† c√°c m·∫°ch m√°u mang m√°u gi√†u oxy t·ª´ tim ƒëi ƒë·∫øn c√°c c∆° quan, m√¥ trong c∆° th·ªÉ.
                <br><br>
                <strong>ƒê·∫∑c ƒëi·ªÉm:</strong> Th√†nh d√†y, ƒë√†n h·ªìi t·ªët ƒë·ªÉ ch·ªãu ƒë∆∞·ª£c √°p l·ª±c m√°u t·ª´ tim b∆°m ra.
                <br><br>
                <strong>M√†u s·∫Øc:</strong> M√°u trong ƒë·ªông m·∫°ch c√≥ m√†u ƒë·ªè t∆∞∆°i v√¨ ch·ª©a nhi·ªÅu oxy.`
            },
            veins: {
                icon: 'üîµ',
                title: 'Tƒ©nh M·∫°ch',
                class: 'vein',
                content: `Tƒ©nh m·∫°ch l√† c√°c m·∫°ch m√°u mang m√°u ngh√®o oxy t·ª´ c√°c c∆° quan tr·ªü v·ªÅ tim.
                <br><br>
                <strong>ƒê·∫∑c ƒëi·ªÉm:</strong> Th√†nh m·ªèng h∆°n ƒë·ªông m·∫°ch, c√≥ van m·ªôt chi·ªÅu ƒë·ªÉ ngƒÉn m√°u ch·∫£y ng∆∞·ª£c.
                <br><br>
                <strong>M√†u s·∫Øc:</strong> M√°u trong tƒ©nh m·∫°ch c√≥ m√†u ƒë·ªè s·∫´m v√¨ ƒë√£ d√πng h·∫øt oxy.`
            }
        };

        function selectPart(partId) {
            const info = partInfo[partId];
            if (!info) return;

            const display = document.getElementById('info-display');
            display.innerHTML = `
                <h3 class="${info.class}">${info.icon} ${info.title}</h3>
                <p>${info.content}</p>
            `;

            // Highlight selected part
            document.querySelectorAll('.body-part').forEach(p => {
                p.style.opacity = '0.5';
            });
            document.getElementById(partId).style.opacity = '1';

            // Reset after 5 seconds
            setTimeout(() => {
                document.querySelectorAll('.body-part').forEach(p => {
                    p.style.opacity = '1';
                });
            }, 5000);
        }

        // Heartbeat Sound using Web Audio API
        let audioCtx = null;
        let heartbeatInterval = null;
        let isPlaying = false;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        function playHeartbeatSound() {
            if (!audioCtx) return;

            // First beat (LUB) - louder, lower
            const osc1 = audioCtx.createOscillator();
            const gain1 = audioCtx.createGain();
            const filter1 = audioCtx.createBiquadFilter();

            filter1.type = 'lowpass';
            filter1.frequency.value = 150;

            osc1.connect(filter1);
            filter1.connect(gain1);
            gain1.connect(audioCtx.destination);

            osc1.frequency.setValueAtTime(80, audioCtx.currentTime);
            osc1.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.1);
            gain1.gain.setValueAtTime(0.8, audioCtx.currentTime);
            gain1.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
            osc1.type = 'sine';
            osc1.start(audioCtx.currentTime);
            osc1.stop(audioCtx.currentTime + 0.15);

            // Add a thump noise for first beat
            const bufferSize = audioCtx.sampleRate * 0.1;
            const noiseBuffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
            const noise = noiseBuffer.getChannelData(0);
            for (let i = 0; i < bufferSize; i++) {
                noise[i] = (Math.random() * 2 - 1) * Math.exp(-i / (bufferSize * 0.1));
            }
            const noiseSource = audioCtx.createBufferSource();
            noiseSource.buffer = noiseBuffer;
            const noiseGain = audioCtx.createGain();
            const noiseFilter = audioCtx.createBiquadFilter();
            noiseFilter.type = 'lowpass';
            noiseFilter.frequency.value = 100;
            noiseSource.connect(noiseFilter);
            noiseFilter.connect(noiseGain);
            noiseGain.connect(audioCtx.destination);
            noiseGain.gain.setValueAtTime(0.5, audioCtx.currentTime);
            noiseSource.start(audioCtx.currentTime);

            // Second beat (DUB) - softer, slightly higher
            setTimeout(() => {
                if (!audioCtx) return;
                const osc2 = audioCtx.createOscillator();
                const gain2 = audioCtx.createGain();
                const filter2 = audioCtx.createBiquadFilter();

                filter2.type = 'lowpass';
                filter2.frequency.value = 120;

                osc2.connect(filter2);
                filter2.connect(gain2);
                gain2.connect(audioCtx.destination);

                osc2.frequency.setValueAtTime(70, audioCtx.currentTime);
                osc2.frequency.exponentialRampToValueAtTime(35, audioCtx.currentTime + 0.08);
                gain2.gain.setValueAtTime(0.5, audioCtx.currentTime);
                gain2.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                osc2.type = 'sine';
                osc2.start(audioCtx.currentTime);
                osc2.stop(audioCtx.currentTime + 0.1);
            }, 200);
        }

        function toggleHeartbeat() {
            const control = document.getElementById('sound-control');
            const icon = document.getElementById('sound-icon');
            const text = document.getElementById('sound-text');

            if (isPlaying) {
                clearInterval(heartbeatInterval);
                heartbeatInterval = null;
                isPlaying = false;
                control.classList.remove('playing');
                icon.textContent = 'üîá';
                text.textContent = 'B·∫≠t nh·ªãp tim';
            } else {
                // Initialize audio context on user interaction
                initAudio();
                playHeartbeatSound();
                heartbeatInterval = setInterval(playHeartbeatSound, 900);
                isPlaying = true;
                control.classList.add('playing');
                icon.textContent = 'ü´Ä';
                text.textContent = 'T·∫Øt nh·ªãp tim';
            }
        }
    </script>
</body>

</html>